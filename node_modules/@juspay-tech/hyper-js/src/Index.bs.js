// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as Types from "./Types.bs.js";

function loadHyper(str, option) {
  return new Promise((function (resolve, reject) {
                var sessionID = Types.generateSessionID(undefined);
                Date.now();
                var script = document.createElement("script");
                script.src = "https://beta.hyperswitch.io/v1/HyperLoader.js";
                script.onload = (function (param) {
                    var instance = window.Hyper;
                    if (!(instance == null)) {
                      console.log("INSTANCE", Curry._3(instance, str, option, sessionID));
                      return resolve(Curry._3(instance, str, option, sessionID));
                    }
                    
                  });
                script.onerror = (function (err) {
                    reject(err);
                  });
                document.body.appendChild(script);
              }));
}

function loadStripe(str, option) {
  console.warn("loadStripe is deprecated. Please use loadHyper instead.");
  return loadHyper(str, option);
}

function Hyper(str, option) {
  var sessionID = Types.generateSessionID(undefined);
  var instance = window.Hyper;
  if (instance == null) {
    return Types.emptyHyperInstance;
  } else {
    return Curry._3(instance, str, option, sessionID);
  }
}

function Stripe(str, option) {
  console.warn("Stripe is deprecated. Please use Hyper instead.");
  return Hyper(str, option);
}

export {
  loadHyper ,
  loadStripe ,
  Hyper ,
  Stripe ,
}
/* Types Not a pure module */
